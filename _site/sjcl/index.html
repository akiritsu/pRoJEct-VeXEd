<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8" />
  <!-- multi-device width -->
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <!-- site description -->
  
  <meta content="" name="description" />
  <!-- referer for 3rd-part images-->
  <meta content="no-referrer" name="referrer" />
  <!-- title -->
  <title>
    
    An Encrypt and Dectrypt tool with sjcl.js
    
  </title>
  <!-- icon -->
  <link href="http://localhost:4000/assets/img/favicon.ico?" rel="shortcut icon bookmark" type="image/x-icon" />
  <!-- main stylesheet -->
  <link rel="stylesheet" href="http://localhost:4000/assets/css/main.css" type="text/css" />
  <!-- fa 5.9.0 -->
  <link rel="stylesheet" href="http://localhost:4000/assets/css/fa.min.css" type="text/css" />
  <!-- rouge theme-->
  <link rel="stylesheet" href="http://localhost:4000/assets/css/rouge-bg.css" />
  <!-- mathjax 2.7.5 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script>
  </head>
  <body class="page">
    <!-- background animations -->
<div class="div_bg">
  <canvas id="c"></canvas>
</div>
<script>
  var c = document.getElementById("c");
  var ctx = c.getContext("2d");
  c.height = window.innerHeight;
  c.width = window.innerWidth;
  var txts = "αβγδεζηθικλμνξοπρστυφχψω∷∫∮∝∞∧∨∑∏∪∩∈∵∴⊥‖∠⌒⊙≌∽√";
  txts = txts.split("");
  var font_size = 12;
  var columns = c.width / font_size;
  var drops = [];
  for (var x = 0; x < columns; x++) drops[x] = 1;

  function draw() {
    ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
    ctx.fillRect(0, 0, c.width, c.height);
    ctx.fillStyle = "#490";
    ctx.font = font_size + "px arial";
    for (var i = 0; i < drops.length; i++) {
      var text = txts[Math.floor(Math.random() * txts.length)];
      ctx.fillText(text, i * font_size, drops[i] * font_size);
      if (drops[i] * font_size > c.height || Math.random() > 0.98) drops[i] = 0;
      drops[i]++;
    }
  }
  setInterval(draw, 20);
</script>
    <div class="container" id="ctner">
      <div class="header">
  <nav class="nav_bar">
    <ul>
      <!-- left header -->
      <li class="li_left">
        <!-- home -->
        
        <a class="header_btn" href="http://localhost:4000">
          <i class="fa fa-home">
            
            <p class="btn_text">Home</p>
            
          </i>
        </a>
        
        <!-- email -->
        
        <a class="header_btn" href="mailto://deerrider@outlook.com">
          <i class="fa fa-envelope-square">
            
            <p class="btn_text">Email</p>
            
          </i>
        </a>
        
        <!-- github -->
        
        <a class="header_btn" href="https://github.com/akiritsu">
          <i class="fa fa-github">
            
            <p class="btn_text">Github</p>
            
          </i>
        </a>
        
        <!-- maximize -->
        
        <a class="header_btn" id="mxmz_btn" onclick="toggle_maximize()">
          <i class="fa fa-window-maximize">
            
            <p class="btn_text" id="mxmz_text">Maximize</p>
            
          </i>
        </a>
        
        <!-- access token -->
        
      </li>
      <!-- right header -->
      <span class="span_right">
        <!-- popup table of content -->
        
        <a class="header_btn" onclick="scroll_percentage(-0.88)">
          <i class="fa fa-backward">
            
            <p class="btn_text">Prev</p>
            
          </i>
        </a>
        <!-- scroll down -->
        <a class="header_btn" onclick="scroll_percentage(0.88)">
          <i class="fa fa-forward">
            
            <p class="btn_text">Next</p>
            
          </i>
        </a>
        <!-- popup table of content -->
        <a class="header_btn popup_btn" onclick="toggle_toc()">
          <i class="fa fa-bars">
            
            <p class="btn_text">Content</p>
            
          </i>
        </a>
        
      </span>
    </ul>
  </nav>
  <hr />
</div>

<!-- table of content -->
<div class="div_toc toc" id="popup_toc">
   
</div>
<!-- toggle toc -->
<script>
  function toggle_toc() {
    var popup = document.getElementById("popup_toc");
    popup.classList.toggle("show");
  }
</script>
<!-- scroll page -->
<script>
  function scroll_percentage(mtpler) {
    document
      .getElementById("div_atcl")
      .scrollBy(0, window.innerHeight * mtpler);
  }
</script>
 
<!-- toggle maximize -->
<script>
  var ctner_state = 0;
  var ctner = document.getElementById("ctner");
  function toggle_maximize() {
    if (ctner_state == 0) {
      ctner.style.width = "100%";
      ctner.style.height = "100%";
      ctner.style.top = "0";
      ctner.style.maxWidth = "100%";
      if (document.getElementById("mxmz_text")) {
        document.getElementById("mxmz_text").innerHTML = "Restore";
      }
      ctner_state = 1;
    } else if (ctner_state == 1) {
      ctner.style.width = "84%";
      ctner.style.height = "97%";
      ctner.style.top = "2%";
      ctner.style.maxWidth = "1240px";
      if (document.getElementById("mxmz_text")) {
        document.getElementById("mxmz_text").innerHTML = "Maximize";
      }
      ctner_state = 0;
    }
  }
</script>
 

      <div class="div_article" id="div_atcl">       
        <article id="main_atcl" itemscope itemtype="http://schema.org/BlogPosting">
          <h1>
  An Encrypt and Dectrypt tool with sjcl.js
</h1>
<div class="post_info">
  <!-- author -->
  
  <span>
    <i class="fa fa-user-secret"></i>
    DeerRIDER
  </span>
  
  <!-- date -->
  
  <span>
    <i class="fa fa-calendar"></i>
    Mar 03, 2017
  </span>
  
  <!-- category -->
  
  <span>
    <i class="fa fa-archive"></i>
    Sample
  </span>
  
</div>
<!-- abstract -->
<div class="abstract">
  
</div>

<!-- aes encrypt and decrypt method -->
<script
  src="http://localhost:4000/assets/js/sjcl.js"
  async
></script>

<div class="div_token">
  <table>
    <thead>
      <th colspan="3">
        Password is required in both encryption and decryption
      </th>
    </thead>
    <tbody>
      <tr>
        <td>Password</td>
        <td>
          <textarea
            class="access_token"
            rows="1"
            cols="50"
            id="pwd"
            style="resize: vertical;"
          ></textarea>
        </td>
        <td></td>
      </tr>
      <tr>
        <td>
          Message
        </td>
        <td>
          <textarea
            class="access_token"
            rows="5"
            cols="50"
            id="msg"
            style="resize: vertical;"
          ></textarea>
        </td>
        <td><button class="encrypt" onclick="encrypt()">Encrypt</button></td>
      </tr>
      <tr>
        <td>Ciphertext</td>
        <td>
          <textarea
            class="access_token"
            rows="5"
            cols="50"
            id="ct"
            style="resize: vertical;"
          ></textarea>
        </td>
        <td><button class="encrypt" onclick="decrypt()">Decrypt</button></td>
      </tr>
      <tr>
        <td>Minimized</td>
        <td>
          <textarea
            class="access_token"
            rows="5"
            cols="50"
            id="min_text"
            style="resize: vertical;"
          ></textarea>
        </td>
        <td></td>
      </tr>
    </tbody>
  </table>
</div>
<script>
  function encrypt() {
    var pwd = document.getElementById("pwd").value;
    var msg = document.getElementById("msg").value;
    var ct =  sjcl.json.encrypt(pwd, msg,{salt: ""});
    var ct_obj = JSON.parse(ct);
    document.getElementById("ct").value = ct;
    document.getElementById("msg").value = "";
    document.getElementById("min_text").value = (ct_obj.iv.substring(0,22) + ct_obj.ct);
  }
  function decrypt() {
    var pwd = document.getElementById("pwd").value;
    var ct = document.getElementById("ct").value;
    document.getElementById("msg").value = sjcl.json.decrypt(pwd, ct);
    document.getElementById("ct").value = "";
    document.getElementById("min_text").value = "";
  }
</script>


          

        </article>
          
      </div>
    </div>
  </body>
</html>
